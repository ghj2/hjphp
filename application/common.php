<?php// +----------------------------------------------------------------------// | ThinkPHP [ WE CAN DO IT JUST THINK ]// +----------------------------------------------------------------------// | Copyright (c) 2006-2016 http://thinkphp.cn All rights reserved.// +----------------------------------------------------------------------// | Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )// +----------------------------------------------------------------------// | Author: 流年 <liu21st@gmail.com>// +----------------------------------------------------------------------// 应用公共函数写在这里//修改数组键值（单个）function change_arr_key($old,$new,$arr){	$arr[$new] = $arr[$old];	unset($arr[$old]);		return $arr; }//修改数组键值（多个）function change_arr_key_multi($oldarr,$newarr,$arr){	if(count($oldarr)!=count($newarr)){		return "新旧键值数组的元素个数不相等";	}else{		for($i=0;$i<count($oldarr);$i++){			$arr[$newarr[$i]] = $arr[$oldarr[$i]];			unset($arr[$oldarr[$i]]);		}		return $arr; 	}}//alertfunction alert($word){	echo "<script>alert('".$word."')</script>";}//hreffunction href($url){	echo "<script>window.location.href='".$url."';</script>";	exit;}//historyfunction history($step){	echo "<script>history.go(".$step.")</script>";	exit;}//history()并刷新当前页面 function history_reload($step){	echo "<script>history.go(".$step.");</script>";//reload手机不兼容暂时不使用	exit;}//验证身份function check_login(){	if(session("userinfo")==""){		alert("身份过期，请先登录");		history(-1); 	}}//后台检测登录状态function admin_check_login(){	if(session("admin_info")==NULL){		alert("请先登录");		href(url('admin/index/login'));	}else{		return session("admin_info");	}}//二维数组根据某列值排序function order_by_column($key,$arr,$type=SORT_ASC){	foreach($arr as $k=>$v){		$arr1[$k] = $v[$key]; 	}	array_multisort($arr1,$type,$arr);	return $arr;}//获取访问足迹数据function get_footprints(){	$request = request();	$data['url']	  = $request->url();	$data['username'] = session('userinfo')['username'];	$data['ip'] 	  = $request->ip();	$data['addtime']  = time();	return $data;}